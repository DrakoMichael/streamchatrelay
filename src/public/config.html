<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurações | Stream Chat Relay</title>
    
    <!-- Monolithic Basalt Design System -->
    <link rel="stylesheet" href="monolithic-basalt.css">
</head>
<body>
    <div class="viewport">
        <header>
            <span class="system-id">Stream Chat Relay // Config Panel</span>
            <h1>Configuração do Sistema</h1>
            <p class="subtitle">Ajuste os parâmetros de execução e conectividade</p>
        </header>

        <div id="alert" class="alert"></div>

        <form id="configForm">
            <!-- Configurações Gerais -->
            <section class="section">
                <h2 class="section-title">Configurações Gerais</h2>
                <div class="config-group">
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Ambiente</span>
                            <span class="row-desc">Modo de execução da aplicação</span>
                        </div>
                        <div class="row-control">
                            <select id="type_ambience" name="type_ambience">
                                <option value="dev">Desenvolvimento</option>
                                <option value="prod">Produção</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Servidor Web Express</span>
                            <span class="row-desc">Ativa o servidor HTTP para interface web</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="use_webserver" name="use_webserver">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Modo Debug</span>
                            <span class="row-desc">Habilita logs detalhados de depuração</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="debbug" name="debbug">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">WebSocket</span>
                            <span class="row-desc">Comunicação em tempo real para clientes</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="use_websocket" name="use_websocket">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Configurações de Desenvolvimento -->
            <section class="section" id="dev_section">
                <h2 class="section-title">Configurações de Desenvolvimento</h2>
                <div class="config-group">
                    <div class="grid">
                        <div class="row">
                            <div class="row-meta">
                                <span class="row-title">Porta WebSocket (Dev)</span>
                                <span class="row-desc">Porta para conexões WS em dev</span>
                            </div>
                            <div class="row-control">
                                <input type="number" id="dev_websocket_port" name="dev_websocket_port">
                            </div>
                        </div>
                        <div class="row">
                            <div class="row-meta">
                                <span class="row-title">Porta Express (Dev)</span>
                                <span class="row-desc">Porta HTTP em desenvolvimento</span>
                            </div>
                            <div class="row-control">
                                <input type="number" id="dev_express_port" name="dev_express_port">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Gerador de Mensagens de Teste</span>
                            <span class="row-desc">Simula mensagens para testes de carga</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="enable_spam" name="enable_spam">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Notificações de Conexão</span>
                            <span class="row-desc">Avisos de connect/disconnect no console</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="connected_chat_notify" name="connected_chat_notify">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Imprimir Mensagens Geradas</span>
                            <span class="row-desc">Exibir output do spam generator</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="print_spam_chats" name="print_spam_chats">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Configurações de Produção -->
            <section class="section" id="prod_section">
                <h2 class="section-title">Configurações de Produção</h2>
                <div class="config-group">
                    <div class="grid">
                        <div class="row">
                            <div class="row-meta">
                                <span class="row-title">Porta WebSocket</span>
                                <span class="row-desc">Porta WS em modo produção</span>
                            </div>
                            <div class="row-control">
                                <input type="number" id="websocket_port" name="websocket_port">
                            </div>
                        </div>
                        <div class="row">
                            <div class="row-meta">
                                <span class="row-title">Porta Express</span>
                                <span class="row-desc">Porta HTTP em produção</span>
                            </div>
                            <div class="row-control">
                                <input type="number" id="express_port" name="express_port">
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Configurações Twitch -->
            <section class="section">
                <h2 class="section-title">Twitch Integration</h2>
                <div class="config-group">
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Conexão Twitch</span>
                            <span class="row-desc">Integração com plataforma de streaming</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="enable_twitch_connection" name="enable_twitch_connection">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Client ID</span>
                            <span class="row-desc">Identificador da aplicação Twitch</span>
                        </div>
                        <div class="row-control">
                            <input type="text" id="client_id" name="client_id" placeholder="Seu Client ID">
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Access Token</span>
                            <span class="row-desc">Token OAuth2 de autenticação</span>
                        </div>
                        <div class="row-control">
                            <input type="text" id="access_token" name="access_token" placeholder="oauth:...">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Configurações de Banco de Dados -->
            <section class="section">
                <h2 class="section-title">Banco de Dados</h2>
                <div class="config-group">
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">SQLite Database</span>
                            <span class="row-desc">Persistência de dados com SQLite3</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="enable_database" name="enable_database">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Armazenamento em Disco</span>
                            <span class="row-desc">Persiste dados em arquivo físico</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="enable_in_disk_db" name="enable_in_disk_db">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Banco em Memória</span>
                            <span class="row-desc">Database volátil para testes</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="enable_in_memory_db" name="enable_in_memory_db">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Nome do Arquivo</span>
                            <span class="row-desc">Identificador do banco em disco</span>
                        </div>
                        <div class="row-control">
                            <input type="text" id="indisk_db_name" name="indisk_db_name" placeholder="database.db">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Controle de Dados -->
            <section class="section">
                <h2 class="section-title">Controle de Dados</h2>
                <div class="config-group">
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Armazenamento de Mensagens</span>
                            <span class="row-desc">Cache de mensagens recebidas</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="storage_messages_enabled" name="storage_messages_enabled">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="grid">
                        <div class="row">
                            <div class="row-meta">
                                <span class="row-title">Máximo de Mensagens</span>
                                <span class="row-desc">Limite do buffer de histórico</span>
                            </div>
                            <div class="row-control">
                                <input type="number" id="max_stored_messages" name="max_stored_messages">
                            </div>
                        </div>
                        <div class="row">
                            <div class="row-meta">
                                <span class="row-title">Intervalo de Limpeza (ms)</span>
                                <span class="row-desc">Frequência de garbage collection</span>
                            </div>
                            <div class="row-control">
                                <input type="number" id="message_cleanup_interval_ms" name="message_cleanup_interval_ms">
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Análise de Dados -->
            <section class="section">
                <h2 class="section-title">Análise de Dados</h2>
                <div class="config-group">
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Data Analysis</span>
                            <span class="row-desc">Processamento analítico de mensagens</span>
                        </div>
                        <div class="row-control">
                            <label class="switch">
                                <input type="checkbox" id="enable_data_analysis" name="enable_data_analysis">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="row-meta">
                            <span class="row-title">Intervalo de Análise (ms)</span>
                            <span class="row-desc">Frequência de execução do pipeline</span>
                        </div>
                        <div class="row-control">
                            <input type="number" id="data_analysis_interval_ms" name="data_analysis_interval_ms">
                        </div>
                    </div>
                </div>
            </section>

            <div class="spacer"></div>
        </form>
    </div>

    <div class="btn-container">
        <button type="button" class="btn" id="reloadBtn">Descartar</button>
        <button type="submit" form="configForm" class="btn btn-primary">Salvar Alterações</button>
    </div>

    <!-- Monolithic Basalt Design System JavaScript -->
    <script src="monolithic-basalt.js"></script>
    
    <!-- Application Specific Logic -->
    <script src="config.js"></script>
</body>
</html>
